(this["webpackJsonpimage-map-editor"]=this["webpackJsonpimage-map-editor"]||[]).push([[0],{1:function(e,t,n){e.exports={rectangle:"style_rectangle__NMO1q",trash:"style_trash__DOcNe",disabled:"style_disabled__38ylL",dot:"style_dot__1XgEc"}},21:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(12),c=n.n(s),i=(n(21),n(15)),o=n(6),l=n(16),u=n(1),d=n.n(u),p=n(0),j=function(e){var t=e.onDelete,n=e.disabledTrash,a=Object(l.a)(e,["onDelete","disabledTrash"]);return Object(p.jsxs)("div",{className:d.a.rectangle,style:a,children:[!n&&Object(p.jsx)("div",{className:d.a.trash,onClick:t,children:Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"#bebec3",strokeWidth:"2",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),Object(p.jsx)("div",{className:d.a.dot}),Object(p.jsx)("div",{className:d.a.dot}),Object(p.jsx)("div",{className:d.a.dot}),Object(p.jsx)("div",{className:d.a.dot}),Object(p.jsx)("div",{className:d.a.dot}),Object(p.jsx)("div",{className:d.a.dot}),Object(p.jsx)("div",{className:d.a.dot}),Object(p.jsx)("div",{className:d.a.dot})]})},f=n(10),b=n(3),h=n.n(b),v=n(8),g=n(13),m=n.n(g),x=n(14),O=n.n(x),w=n(4),_=n.n(w),y=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new FileReader;a.readAsDataURL(t),a.onerror=function(e){return n(e)},a.onload=function(){return e(a.result)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t=e.getBoundingClientRect();return{offsetX:t.x,offsetY:t.y}},k=function(e){var t=e.rectangleList,n=e.appendRectangleList,r=e.deleteRectangle,s=Object(a.useState)(),c=Object(o.a)(s,2),i=c[0],l=c[1],u=Object(a.useState)(),d=Object(o.a)(u,2),b=d[0],g=d[1],x=function(){var e=Object(v.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],new O.a(n,{maxWidth:355,success:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,y(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=e.x,n=e.y,a=e.x2,r=e.y2;if(a<t){var s=[a,t];t=s[0],a=s[1]}if(r<n){var c=[r,n];n=c[0],r=c[1]}return{left:t,top:n,width:a-t,height:r-n}},k=Object(a.useCallback)((function(){if(g(null),!b)return{};var e=w(b),t=e.left,a=e.top,r=e.width,s=e.height;n({left:t,top:a,width:r,height:s})}),[n,b]);return i?Object(p.jsxs)("div",{className:m()(_.a.ImagePreviewer,_.a.preview),children:[Object(p.jsx)("img",{src:i,alt:"the preview",className:_.a.preview}),t.map((function(e,t){return Object(p.jsx)(j,Object(f.a)({onDelete:r.bind(null,t),disabledTrash:b},e),t)})),Object(p.jsx)("div",{className:_.a.Map,onMouseUp:k,onMouseDown:function(e){if(!b){var t=N(e.currentTarget),n=t.offsetX,a=t.offsetY;g({x:e.clientX-n,y:e.clientY-a,x2:e.clientX-n,y2:e.clientY-a})}},onMouseMove:function(e){if(b){var t=b.x,n=b.y,a=N(e.currentTarget),r=a.offsetX,s=a.offsetY,c=e.clientX-r,i=e.clientY-s;g({x:t,y:n,x2:c,y2:i})}},children:b&&Object(p.jsx)(j,Object(f.a)(Object(f.a)({},w(b)),{},{disabledTrash:!0}))})]}):Object(p.jsxs)("label",{className:_.a.ImagePreviewer,children:[Object(p.jsx)("input",{type:"file",onChange:x,accept:"image/*"}),Object(p.jsx)("svg",{width:"24",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"#bbbdbf",strokeWidth:"2",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Upload image"]})},L=n(9),M=n.n(L);var A=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(p.jsxs)("div",{className:M.a.App,children:[Object(p.jsx)("div",{className:M.a.ImageUploadArea,children:Object(p.jsx)(k,{rectangleList:n,appendRectangleList:function(e){r((function(t){return[].concat(Object(i.a)(t),[e])}))},deleteRectangle:function(e){r((function(t){return t.filter((function(t,n){return n!==e}))}))}})}),Object(p.jsx)("pre",{className:M.a.ConsoleArea,children:!!n.length&&JSON.stringify(n.map((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}})),null,4)})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(A,{})}),document.getElementById("root")),C()},4:function(e,t,n){e.exports={ImagePreviewer:"style_ImagePreviewer__3JiQ3",preview:"style_preview__1-uHM",Map:"style_Map__2SuDB",rectangle:"style_rectangle__1gMN-",dot:"style_dot__1izSC"}},9:function(e,t,n){e.exports={App:"App_App__16ZpL",ImageUploadArea:"App_ImageUploadArea__1ubkd",ConsoleArea:"App_ConsoleArea__3645x"}}},[[24,1,2]]]);
//# sourceMappingURL=main.21c86614.chunk.js.map