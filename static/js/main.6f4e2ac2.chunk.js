(this["webpackJsonpimage-map-editor"]=this["webpackJsonpimage-map-editor"]||[]).push([[0],{1:function(e,t,a){e.exports={rectangle:"style_rectangle__NMO1q",serialNum:"style_serialNum__3Yl5n",trash:"style_trash__DOcNe",disabled:"style_disabled__38ylL",dotBlock:"style_dotBlock__XRCjv",dot:"style_dot__1XgEc"}},21:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),s=a(12),c=a.n(s),i=(a(21),a(15)),o=a(6),l=a(16),u=a(1),d=a.n(u),j=a(0),p=function(e){var t=e.serialNum,a=e.onDelete,n=e.disabledTrash,r=Object(l.a)(e,["serialNum","onDelete","disabledTrash"]);return Object(j.jsxs)("div",{className:d.a.rectangle,style:r,children:[!n&&Object(j.jsx)("div",{className:d.a.trash,onClick:a,children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"#bebec3",strokeWidth:"2",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),t&&Object(j.jsx)("div",{className:d.a.serialNum,children:t}),Object(j.jsxs)("div",{className:d.a.dotBlock,children:[Object(j.jsx)("div",{className:d.a.dot}),Object(j.jsx)("div",{className:d.a.dot}),Object(j.jsx)("div",{className:d.a.dot}),Object(j.jsx)("div",{className:d.a.dot}),Object(j.jsx)("div",{className:d.a.dot}),Object(j.jsx)("div",{className:d.a.dot}),Object(j.jsx)("div",{className:d.a.dot}),Object(j.jsx)("div",{className:d.a.dot})]})]})},f=a(10),b=a(3),h=a.n(b),v=a(8),m=a(13),x=a.n(m),g=a(14),O=a.n(g),_=a(4),w=a.n(_),N=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new FileReader;n.readAsDataURL(t),n.onerror=function(e){return a(e)},n.onload=function(){return e(n.result)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=e.getBoundingClientRect();return{offsetX:t.x,offsetY:t.y}},k=function(e){var t=e.rectangleList,a=e.appendRectangleList,r=e.deleteRectangle,s=Object(n.useState)(),c=Object(o.a)(s,2),i=c[0],l=c[1],u=Object(n.useState)(),d=Object(o.a)(u,2),b=d[0],m=d[1],g=function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],new O.a(a,{maxWidth:355,success:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,N(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=e.x,a=e.y,n=e.x2,r=e.y2;if(n<t){var s=[n,t];t=s[0],n=s[1]}if(r<a){var c=[r,a];a=c[0],r=c[1]}return{left:t,top:a,width:n-t,height:r-a}},k=Object(n.useCallback)((function(){if(m(null),!b||b.x===b.x2&&b.y===b.y2)return{};var e=_(b),t=e.left,n=e.top,r=e.width,s=e.height;a({left:t,top:n,width:r,height:s})}),[a,b]);return i?Object(j.jsxs)("div",{className:x()(w.a.ImagePreviewer,w.a.preview),children:[Object(j.jsx)("img",{src:i,alt:"the preview",className:w.a.preview}),t.map((function(e,t){return Object(j.jsx)(p,Object(f.a)({serialNum:t+1,onDelete:r.bind(null,t),disabledTrash:b},e),t)})),Object(j.jsx)("div",{className:w.a.Map,onMouseUp:k,onMouseDown:function(e){if(!b){var t=y(e.currentTarget),a=t.offsetX,n=t.offsetY;m({x:e.clientX-a,y:e.clientY-n,x2:e.clientX-a,y2:e.clientY-n})}},onMouseMove:function(e){if(b){var t=b.x,a=b.y,n=y(e.currentTarget),r=n.offsetX,s=n.offsetY,c=e.clientX-r,i=e.clientY-s;m({x:t,y:a,x2:c,y2:i})}},children:b&&Object(j.jsx)(p,Object(f.a)(Object(f.a)({},_(b)),{},{disabledTrash:!0}))})]}):Object(j.jsxs)("label",{className:w.a.ImagePreviewer,children:[Object(j.jsx)("input",{type:"file",onChange:g,accept:"image/*"}),Object(j.jsx)("svg",{width:"24",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"#bbbdbf",strokeWidth:"2",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Upload image"]})},L=a(9),M=a.n(L);var A=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(j.jsxs)("div",{className:M.a.App,children:[Object(j.jsx)("div",{className:M.a.ImageUploadArea,children:Object(j.jsx)(k,{rectangleList:a,appendRectangleList:function(e){r((function(t){return[].concat(Object(i.a)(t),[e])}))},deleteRectangle:function(e){r((function(t){return t.filter((function(t,a){return a!==e}))}))}})}),Object(j.jsx)("pre",{className:M.a.ConsoleArea,children:!!a.length&&JSON.stringify(a.map((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}})),null,4)})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,25)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(A,{})}),document.getElementById("root")),C()},4:function(e,t,a){e.exports={ImagePreviewer:"style_ImagePreviewer__3JiQ3",preview:"style_preview__1-uHM",Map:"style_Map__2SuDB",rectangle:"style_rectangle__1gMN-",dot:"style_dot__1izSC"}},9:function(e,t,a){e.exports={App:"App_App__16ZpL",ImageUploadArea:"App_ImageUploadArea__1ubkd",ConsoleArea:"App_ConsoleArea__3645x"}}},[[24,1,2]]]);
//# sourceMappingURL=main.6f4e2ac2.chunk.js.map